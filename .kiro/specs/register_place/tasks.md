# タスク

- [ ] 1. バックエンドの登録基盤を整備する
- [ ] 1.1 places の永続化と制約を整える
  - 店データの各項目を保持できるスキーマを用意する
  - 食べログURLの一意性をDBレベルで担保する
  - 来店ステータスの許可値を固定化する
  - _Requirements: 2.2, 3.3, 5.1, 1.2_

- [ ] 1.2 入力バリデーションとURL正規化を実装する
  - 必須項目の未入力を拒否する
  - tabelog.com ドメインのみ受け付ける検証を行う
  - URLの前後空白除去、末尾スラッシュ削除、クエリ削除、https 統一を行う
  - 同一URLの重複登録を検出できるようにする
  - _Requirements: 3.1, 3.2, 3.3, 5.1, 1.2_

- [ ] 1.3 登録APIの応答とエラーハンドリングを整備する
  - 新規登録を受け付け、登録結果を返す
  - バリデーション失敗時に理由を返す
  - URL重複時に既存データを案内できる情報を返す
  - 登録操作が体感的に速い状態を維持する
  - _Requirements: 2.1, 2.4, 2.5, 3.3, 6.1_

- [ ] 2. フロントエンドの登録体験を構築する
- [ ] 2.1 登録フォームの入力フローを組み立てる
  - 必須項目と任意項目を分離し、最小入力で登録できる構成にする
  - 任意項目を折りたたみ可能にして後回しにできるようにする
  - 来店ステータスの既定値を「行っていない」にする
  - キーボード操作中心で完結できる導線を用意する
  - 入力エラー時も入力値を保持する
  - _Requirements: 1.1, 2.1, 2.2, 2.3, 4.1, 4.2, 4.3, 6.2_

- [ ] 2.2 フロントのバリデーションとエラー表示を実装する
  - 必須項目の未入力を検知して送信を止める
  - tabelog.com ドメインのURLのみ受け付ける
  - フィールド単位で理由を明確に表示する
  - _Requirements: 3.1, 3.2, 2.5, 6.2_

- [ ] 2.3 登録API連携と登録結果の提示を実装する
  - 登録成功時に登録結果を確認できる状態にする
  - URL重複時に既存データへの案内を表示する
  - 登録後は詳細表示へ遷移し、遷移先で結果を表示する
  - _Requirements: 2.4, 2.5, 3.3, 7.4_

- [ ] 3. 登録結果の詳細確認を実装する
- [ ] 3.1 登録後の詳細表示を参照専用で提供する
  - 登録データを取得して必須/任意項目を表示する
  - 画面遷移後も登録結果を確認できるようにする
  - _Requirements: 2.4, 5.1, 7.4_

- [ ] 4. テストで登録フローを担保する
- [ ] 4.1 バックエンドのバリデーションと重複防止を検証する
  - URLドメイン制約と必須項目の拒否を検証する
  - URL正規化後の重複判定が機能することを確認する
  - 登録成功/失敗/重複の応答が想定通りであることを確認する
  - _Requirements: 3.1, 3.2, 3.3, 7.1, 7.2, 7.3_

- [ ] 4.2 フロントエンドの入力と結果表示を検証する
  - 必須項目のみで登録が完了できることを確認する
  - バリデーションエラー時に理由が表示されることを確認する
  - 登録成功後に結果が確認できることを確認する
  - _Requirements: 1.1, 2.1, 2.2, 2.3, 2.4, 2.5, 4.1, 4.2, 4.3, 6.2, 7.1, 7.4_
